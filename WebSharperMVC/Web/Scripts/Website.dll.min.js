(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{Website:{Forkme:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){return e.add(f.A(g.ofArray([f.HRef("https://github.com/TahaHachana/WebSharperMVC")])),g.ofArray([f.Img(g.ofArray([f.Src("https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"),f.Alt("Fork me on GitHub"),f.Id("forkme")]))]));}},Login:{Client:{loginForm:function(q){var r,s,t,u,v,w,x,y,z,M,N,O,P,Q,R,S,T,U,V;r=f.Input(g.ofArray([(s=f.Attr(),s.NewAttr("type","text")),(t=h.Attr(),t.NewAttr("autofocus","autofocus")),(u=h.Attr(),u.NewAttr("placeholder","username"))]));v=(w=e.add(f.Button(g.ofArray([(x=f.Attr(),x.NewAttr("type","button")),f.Attr().Class("btn"),f.Id("login-btn")])),g.ofArray([f.Text("Submit")])),(y=(z=function(){return function(){var C,D,I;C=(D=function(){var F,G;F=i.Async("Website:0",[{Name:r.get_Value(),Password:k.passInput().get_Value()}]);G=function(H){if(H.$==1){l.location.href=q;return m.Return(null);}else{n("Login failed");return m.Return(null);}};return m.Bind(F,G);},m.Delay(D));I=function(J){var K;K={$:0};return m.Start(J);};return I(C);};},function(L){return o.Events().OnClick(z,L);}),(y(w),w)));return f.Form(g.ofArray([(M=g.ofArray([(N=g.ofArray([f.Text("Login")]),(O=f.Tags(),O.NewTag("legend",N))),(P=g.ofArray([f.Text("Username")]),(Q=f.Tags(),Q.NewTag("label",P))),r,(R=g.ofArray([f.Text("Password")]),(S=f.Tags(),S.NewTag("label",R))),k.passInput()]),(T=f.Tags(),T.NewTag("fieldset",M))),(U=g.ofArray([v]),(V=f.Tags(),V.NewTag("fieldset",U)))]));},passInput:$.Field(function(){var W,X,Y,Z,_0;W=f.Input(g.ofArray([(X=f.Attr(),X.NewAttr("type","text")),(Y=h.Attr(),Y.NewAttr("placeholder","password"))]));Z=(_0=function(){return function(_2){var _3;_3=_2.KeyCode;if(_3===13){return p("#login-btn").click();}else{return null;}};},function(_4){return o.Events().OnKeyDown(_0,_4);});Z(W);return W;})},Control:$.Class({get_Body:function(){return k.loginForm(this.redirectUrl);}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Forkme);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Operators);f=$.Safe(d.Default);g=$.Safe(c.List);h=$.Safe(f.HTML5);i=$.Safe(c.Remoting);j=$.Safe(a.Login);k=$.Safe(j.Client);l=$.Safe($$.window);m=$.Safe(c.Concurrency);n=$.Safe($$.alert);o=$.Safe(d.EventsPervasives);return p=$.Safe($$.jQuery);});$.OnLoad(function(){k.passInput();});}());
